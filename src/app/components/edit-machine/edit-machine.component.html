<div class="edit-machine-container">
  <div class="header">
    <h1>
      <mat-icon>edit</mat-icon>
      Editar Máquina
    </h1>
    <button mat-stroked-button routerLink="/dashboard">
      <mat-icon>arrow_back</mat-icon>
      Voltar para Dashboard
    </button>
  </div>

  <mat-card class="form-card">
    <form class="machine-form" [formGroup]="machineForm" (ngSubmit)="onSubmit()">
      <mat-card-content>
        <div class="form-row">
          <mat-form-field appearance="outline" class="form-field">
            <mat-label>Nome da Máquina</mat-label>
            <input matInput placeholder="Ex: Escavadeira Hidráulica" formControlName="name">
            <mat-icon matSuffix>badge</mat-icon>
            
            <mat-error *ngIf="name?.hasError('required')">
              Nome da máquina é obrigatório
            </mat-error>
            <mat-error *ngIf="name?.hasError('minlength')">
              Nome deve ter pelo menos 3 caracteres
            </mat-error>
          </mat-form-field>

          <mat-form-field appearance="outline" class="form-field">
            <mat-label>Localização</mat-label>
            <input matInput placeholder="Ex: Área de Mineração - Setor B" formControlName="location">
            <mat-icon matSuffix>location_on</mat-icon>
            
            <mat-error *ngIf="location?.hasError('required')">
              Localização é obrigatória
            </mat-error>
            <mat-error *ngIf="location?.hasError('minlength')">
              Localização deve ter pelo menos 5 caracteres
            </mat-error>
          </mat-form-field>
        </div>

        <div class="form-row">
          <mat-form-field appearance="outline" class="form-field">
            <mat-label>Status</mat-label>
            <mat-select formControlName="status">
              <mat-option *ngFor="let option of statusOptions" [value]="option.value">
                {{ option.label }}
              </mat-option>
            </mat-select>
            <mat-icon matSuffix>speed</mat-icon>
            
            <mat-error *ngIf="status?.hasError('required')">
              Status é obrigatório
            </mat-error>
          </mat-form-field>
        </div>
      </mat-card-content>

      <mat-card-actions>
        <button type="button" mat-button routerLink="/dashboard">Cancelar</button>
        <button 
          type="submit" 
          mat-raised-button 
          color="primary"
          [disabled]="isLoading || machineForm.invalid">
          <mat-icon>save</mat-icon>
          {{ isLoading ? 'Atualizando...' : 'Atualizar Máquina' }}
        </button>
      </mat-card-actions>
    </form>
  </mat-card>
</div>